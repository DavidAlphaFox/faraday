<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>taoensso.faraday documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Faraday</span> <span class="project-version">0.1.0</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>taoensso</span></div></div></li><li class="depth-2 current"><a href="taoensso.faraday.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>faraday</span></div></a></li><li class="depth-3"><a href="taoensso.faraday.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="taoensso.faraday.html#var-AsMap"><div class="inner"><span>AsMap</span></div></a></li><li class="depth-2"><a href="taoensso.faraday.html#var-as-map"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>as-map</span></div></a></li><li class="depth-1"><a href="taoensso.faraday.html#var-batch-get-item"><div class="inner"><span>batch-get-item</span></div></a></li><li class="depth-1"><a href="taoensso.faraday.html#var-batch-write-item"><div class="inner"><span>batch-write-item</span></div></a></li><li class="depth-1"><a href="taoensso.faraday.html#var-clj-item-.3Edb-item"><div class="inner"><span>clj-item-&gt;db-item</span></div></a></li><li class="depth-1"><a href="taoensso.faraday.html#var-create-table"><div class="inner"><span>create-table</span></div></a></li><li class="depth-1"><a href="taoensso.faraday.html#var-db-item-.3Eclj-item"><div class="inner"><span>db-item-&gt;clj-item</span></div></a></li><li class="depth-1"><a href="taoensso.faraday.html#var-delete-item"><div class="inner"><span>delete-item</span></div></a></li><li class="depth-1"><a href="taoensso.faraday.html#var-delete-table"><div class="inner"><span>delete-table</span></div></a></li><li class="depth-1"><a href="taoensso.faraday.html#var-describe-table"><div class="inner"><span>describe-table</span></div></a></li><li class="depth-1"><a href="taoensso.faraday.html#var-ensure-table"><div class="inner"><span>ensure-table</span></div></a></li><li class="depth-1"><a href="taoensso.faraday.html#var-ex"><div class="inner"><span>ex</span></div></a></li><li class="depth-1"><a href="taoensso.faraday.html#var-freeze"><div class="inner"><span>freeze</span></div></a></li><li class="depth-1"><a href="taoensso.faraday.html#var-get-item"><div class="inner"><span>get-item</span></div></a></li><li class="depth-1"><a href="taoensso.faraday.html#var-list-tables"><div class="inner"><span>list-tables</span></div></a></li><li class="depth-1"><a href="taoensso.faraday.html#var-put-item"><div class="inner"><span>put-item</span></div></a></li><li class="depth-1"><a href="taoensso.faraday.html#var-query"><div class="inner"><span>query</span></div></a></li><li class="depth-1"><a href="taoensso.faraday.html#var-scan"><div class="inner"><span>scan</span></div></a></li><li class="depth-1"><a href="taoensso.faraday.html#var-update-item"><div class="inner"><span>update-item</span></div></a></li><li class="depth-1"><a href="taoensso.faraday.html#var-update-table"><div class="inner"><span>update-table</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">taoensso.faraday</h1><div class="doc"><pre class="plaintext">Clojure DynamoDB client. Adapted from Rotary by James Reeves.
Ref. <a href="https://github.com/weavejester/rotary">https://github.com/weavejester/rotary</a> (Rotary),
     <a href="http://goo.gl/22QGA">http://goo.gl/22QGA</a> (DynamoDBv2 API)

Definitions (with '=&gt;' as 'implies'):
  * item        =&gt; {&lt;attribute&gt; &lt;value&gt;}
  * key         =&gt; hash OR range key =&gt; special attribute
  * primary key =&gt; hash key WITH optional range key
  * attribute   â‰ &gt; key (i.e. does not imply)</pre></div><div class="public anchor" id="var-AsMap"><h3>AsMap</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-as-map"><h3>as-map</h3><div class="usage"><code>(as-map x)</code></div><div class="doc"><pre class="plaintext"></pre></div></div></div></div></div><div class="public anchor" id="var-batch-get-item"><h3>batch-get-item</h3><div class="usage"><code>(batch-get-item creds requests)</code></div><div class="doc"><pre class="plaintext">Retrieves a batch of items in a single request.
Limits apply, Ref. <a href="http://goo.gl/Bj9TC">http://goo.gl/Bj9TC</a>.

(batch-get-item creds
  {:users {:key  :names
           :vals ["alice" "bob"]}
   :posts {:key   :id
           :vals  [1 2 3]
           :attrs [:timestamp :subject]
           :consistent? true}})</pre></div></div><div class="public anchor" id="var-batch-write-item"><h3>batch-write-item</h3><div class="usage"><code>(batch-write-item creds &amp; requests)</code></div><div class="doc"><pre class="plaintext">Executes a batch of Puts and/or Deletes in a single request.
Limits apply, Ref. <a href="http://goo.gl/Bj9TC">http://goo.gl/Bj9TC</a>. No transaction guarantees are
provided, nor conditional puts.

(batch-write-item creds
  [:put    :users {:user-id 1 :username "sally"}]
  [:put    :users {:user-id 2 :username "jane"}]
  [:delete :users {:user-id 3}])</pre></div></div><div class="public anchor" id="var-clj-item-.3Edb-item"><h3>clj-item-&gt;db-item</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-create-table"><h3>create-table</h3><div class="usage"><code>(create-table creds {table-name :name, :keys [throughput hash-key range-key indexes], :or {throughput {:read 1, :write 1}}})</code></div><div class="doc"><pre class="plaintext">Creates a table with the given map of options:
:name       - (required) table name.
:throughput - (required) {:read &lt;units&gt; :write &lt;units&gt;}.
:hash-key   - (required) {:name _ :type &lt;#{:s :n :ss :ns :b :bs}&gt;}.
:range-key  - (optional) {:name _ :type &lt;#{:s :n :ss :ns :b :bs}&gt;}.
:indexes    - (optional) [{:name _ :range-key _
                           :projection #{:all :keys-only [&lt;attr&gt; ...]}}]</pre></div></div><div class="public anchor" id="var-db-item-.3Eclj-item"><h3>db-item-&gt;clj-item</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-delete-item"><h3>delete-item</h3><div class="usage"><code>(delete-item creds table prim-key &amp; [{:keys [return expected], :or {return :none}}])</code></div><div class="doc"><pre class="plaintext">Deletes an item from a table by its primary key.
See `put-item` for option docs.</pre></div></div><div class="public anchor" id="var-delete-table"><h3>delete-table</h3><div class="usage"><code>(delete-table creds table-name)</code></div><div class="doc"><pre class="plaintext">Deletes a table.
</pre></div></div><div class="public anchor" id="var-describe-table"><h3>describe-table</h3><div class="usage"><code>(describe-table creds table)</code></div><div class="doc"><pre class="plaintext">Returns a map describing a table, or nil if the table doesn't exist.
</pre></div></div><div class="public anchor" id="var-ensure-table"><h3>ensure-table</h3><div class="usage"><code>(ensure-table creds {table-name :name, :as opts})</code></div><div class="doc"><pre class="plaintext">Creates a table iff it doesn't already exist.
</pre></div></div><div class="public anchor" id="var-ex"><h3>ex</h3><div class="usage"></div><div class="doc"><pre class="plaintext">DynamoDB API exceptions. Use #=(ex _) for `try` blocks, etc.
</pre></div></div><div class="public anchor" id="var-freeze"><h3>freeze</h3><div class="usage"><code>(freeze x)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-get-item"><h3>get-item</h3><div class="usage"><code>(get-item creds table prim-key &amp; [{:keys [consistent? attrs-to-get]}])</code></div><div class="doc"><pre class="plaintext">Retrieves an item from a table by its primary key,
{&lt;hash-key&gt; &lt;val&gt;} or {&lt;hash-key&gt; &lt;val&gt; &lt;range-key&gt; &lt;val&gt;}</pre></div></div><div class="public anchor" id="var-list-tables"><h3>list-tables</h3><div class="usage"><code>(list-tables creds)</code></div><div class="doc"><pre class="plaintext">Returns a vector of table names.
</pre></div></div><div class="public anchor" id="var-put-item"><h3>put-item</h3><div class="usage"><code>(put-item creds table item &amp; [{:keys [return expected], :or {return :none}}])</code></div><div class="doc"><pre class="plaintext">Adds an item (Clojure map) to a table with options:
:return   - e/o #{:none :all-old :updated-old :all-new :updated-new}
:expected - a map of attribute/condition pairs, all of which must be met for
            the operation to succeed. e.g.:
              {&lt;attr&gt; "expected-value" ...}
              {&lt;attr&gt; true  ...} ; Attribute must exist
              {&lt;attr&gt; false ...} ; Attribute must not exist</pre></div></div><div class="public anchor" id="var-query"><h3>query</h3><div class="usage"><code>(query creds table hash-key &amp; range-and-options)</code></div><div class="doc"><pre class="plaintext">Return the items in a table matching the supplied hash key,
defined in the form {:hash-attr hash-value}.
Can specify a range clause if the table has a range-key ie. `(:range-attr &gt;= 234)
Takes the following options:
  :order - may be :asc or :desc (defaults to :asc)
  :attrs - limit the values returned to the following attribute names
  :limit - the maximum number of items to return
  :after - only return results after this key
  :consistent? - return a consistent read iff logical true
  :index - the secondary index to query

The items are returned as a map with the following keys:
  :items - the list of items returned
  :count - the count of items matching the query
  :last-key - the last evaluated key (useful for paging)</pre></div></div><div class="public anchor" id="var-scan"><h3>scan</h3><div class="usage"><code>(scan creds table &amp; [options])</code></div><div class="doc"><pre class="plaintext">Return the items in a table. Takes the following options:
  :limit - the maximum number of items to return
  :after - only return results after this key

The items are returned as a map with the following keys:
  :items    - the list of items returned
  :count    - the count of items matching the query
  :last-key - the last evaluated key (useful for paging) </pre></div></div><div class="public anchor" id="var-update-item"><h3>update-item</h3><div class="usage"><code>(update-item creds table prim-key update-map &amp; [{:keys [return expected], :or {return :none}}])</code></div><div class="doc"><pre class="plaintext">Updates an item in a table by its primary key.
See `put-item` for option docs.</pre></div></div><div class="public anchor" id="var-update-table"><h3>update-table</h3><div class="usage"><code>(update-table creds {:keys [table throughput]})</code></div><div class="doc"><pre class="plaintext">Updates a table. Ref. <a href="http://goo.gl/Bj9TC">http://goo.gl/Bj9TC</a> for important throughput
upgrade/downgrade limits.</pre></div></div></div></body></html>